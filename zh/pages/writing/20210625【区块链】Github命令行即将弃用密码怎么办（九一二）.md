#ã€åŒºå—é“¾ã€‘Githubå‘½ä»¤è¡Œå³å°†å¼ƒç”¨å¯†ç æ€ä¹ˆåŠï¼ˆä¹ä¸€äºŒï¼‰

æ”¶åˆ°ä¸€å°é‚®ä»¶ï¼Œå‡†ç¡®çš„è¯´ï¼Œæ˜¯ç¬¬äºŒæ¬¡è¿˜æ˜¯ç¬¬ä¸‰æ¬¡æ”¶åˆ°äº†ã€‚GitHubå‘è¿‡æ¥çš„ï¼Œæ ‡é¢˜æ˜¯ï¼š

> ##[GitHub] Deprecation Notice
>
> Hi @hooman118,
>
> You recently used a password to access the repository at hooman118/hoo-wiki with git using git/2.21.0 (Apple Git-122).
>
> Basic authentication using a password to Git is deprecated and will soon no longer work. Visit https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information around suggested workarounds and removal dates.
>
> Thanks,
> The GitHub Team

ç‚¹å¼€é“¾æ¥ä¸€çœ‹ï¼ŒåŸæ¥æœç„¶æ˜¯å»å¹´åº•å°±å…¬å‘Šäº†ã€‚è¦æ±‚ä»¥åå‘½ä»¤è¡Œæˆ–è€…ç¬¬ä¸‰æ–¹APIéƒ½æ”¹æˆTokenè€Œä¸æ˜¯å¯†ç ã€‚è¿™æ ·å½“ç„¶æ›´å®‰å…¨å•¦ï¼Œä½†æ˜¯æˆ‘ä¸€ç›´æ‡’å¾—æ”¹ï¼Œæ¯•ç«Ÿä¸€ç›´èƒ½ç”¨ã€‚ä¸è¿‡å‘¢ï¼Œ2021å¹´8æœˆ13å·ä»¥åï¼Œå‘½ä»¤è¡Œå°±å†ä¹Ÿä¸å…è®¸ä½¿ç”¨å¯†ç äº†ã€‚è¿˜æ˜¯æ—©ç‚¹æŠ˜è…¾ä¸‹å§ã€‚

å¥½åœ¨GitHubçš„å¸®åŠ©å†™å¾—æ˜¯éå¸¸æ¸…æ™°ï¼Œç…§ç€åšå¾ˆå¿«å°±æå®šäº†ã€‚åªéœ€ä¸‰æ­¥ï¼š

1. åˆ›å»ºä¸ªäººToken
2. ç¡®ä¿Gitç¼“å­˜äº†ä½ çš„è®¤è¯ä¿¡æ¯
3. æŠŠç¼“å­˜çš„è®¤è¯ä¿¡æ¯ä¿®æ”¹æˆToken

## 1. åˆ›å»ºä¸ªäººToken

Gitçš„å¸®åŠ©åœ¨è¿™é‡Œ[Creating a personal access token](https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token)ï¼Œéå¸¸æ¸…æ™°ã€‚

1. ç¡®ä¿é‚®ä»¶åœ°å€å·²ç»éªŒè¯è¿‡äº†ã€‚

2. ç™»é™†GitHupä¸»é¡µï¼Œåœ¨å³ä¸Šè§’ï¼Œç‚¹è‡ªå·±**Profile**çš„å¤´åƒï¼Œå†ç‚¹å‡»**Settings**ã€‚

   <img src="https://docs.github.com/assets/images/help/settings/userbar-account-settings.png" style="zoom:50%;" />

3. åœ¨å·¦è¾¹çš„èœå•é‡Œï¼Œç‚¹å‡»**Developer Settings**

   <img src="https://docs.github.com/assets/images/help/settings/developer-settings.png" style="zoom:80%;" />

4. ç»§ç»­åœ¨å·¦è¾¹çš„èœå•é‡Œï¼Œæ‰¾åˆ°å¹¶ç‚¹å‡»**Personal Access Token**

   <img src="https://docs.github.com/assets/images/help/settings/personal_access_tokens_tab.png" style="zoom:80%;" />

5. ç‚¹å‡»**Generate New Token**

   <img src="https://docs.github.com/assets/images/help/settings/generate_new_token.png" style="zoom:50%;" />

6. ç»™ä¸ªåå­—ï¼Œæè¿°è¿™ä¸ªTokençš„ç”¨é€”

   ![](https://docs.github.com/assets/images/help/settings/token_description.png)

7. é€‰æ‹©æƒé™ï¼Œå¦‚æœæ˜¯ç”¨äºå‘½ä»¤è¡Œï¼Œé€‰ **repo**å³å¯

   <img src="https://docs.github.com/assets/images/help/settings/token_scopes.gif" style="zoom:50%;" />

8. æœ€åç‚¹å‡»**Generate Token**è¿™ä¸ªæŒ‰é’®

   <img src="https://docs.github.com/assets/images/help/settings/generate_token.png" style="zoom:80%;" />

9. ç‚¹å‡»ğŸ“‹å›¾æ ‡æŠŠTokenæ‹·è´å‡ºå»å¤‡ç”¨ã€‚åˆ‡è®°ï¼Œå› ä¸ºå®‰å…¨åŸå› ï¼Œ**è‹¥æ­¤æ—¶ä¸æ‹·è´ï¼Œç¦»å¼€è¿™é¡µåå°±å†ä¹Ÿçœ‹ä¸åˆ°å®ƒäº†**ã€‚

   ![](https://docs.github.com/assets/images/help/settings/personal_access_tokens.png)



> **æ³¨æ„å’¯ï¼Œä»æ­¤åï¼Œä½ çš„Gitå‘½ä»¤è¡Œï¼Œå°±åªèƒ½ç”¨httpsï¼Œè€Œä¸èƒ½ç”¨SSHäº†ã€‚å› ä¸ºPersonal Access Tokenåªèƒ½ç”¨äºhttpsâ€¦â€¦**



## 2. ç¡®ä¿Gitç¼“å­˜äº†ä½ çš„è®¤è¯ä¿¡æ¯

Gitå¸®åŠ©åŸæ–‡åœ¨è¿™é‡Œ[Caching your GitHub credentials in Git](https://docs.github.com/en/get-started/getting-started-with-git/caching-your-github-credentials-in-git)ã€‚

æˆ‘ç”¨çš„æ˜¯Macï¼ŒåªéªŒè¯äº†Macä¸Šçš„æ“ä½œæ–¹æ³•ï¼Œéœ€è¦äº†è§£åœ¨å…¶ä»–æ“ä½œç³»ç»Ÿä¸Šæ€ä¹ˆå¼„ï¼Œè¯·çœ‹Gitå¸®åŠ©åŸæ–‡ã€‚

1. ç¡®ä¿Git å’Œ `osxkeychain helper`å·²ç»å®‰è£…ï¼Œåœ¨å‘½ä»¤è¡Œæ•²å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ä¼šå‡ºä½¿ç”¨å¸®åŠ©ã€‚

   ```bash
   $ git credential-osxkeychain
   # Test for the cred helper
   > Usage: git credential-osxkeychain <get|store|erase>
   ```

   

2. å¦‚æœï¼Œ `osxkeychain helper`æ²¡è£…å¥½ï¼Œä½ ä¼šçœ‹åˆ°ä¸‹é¢çš„æç¤ºï¼Œè®©ä½ å®‰è£…Xcode å‘½ä»¤è¡Œå·¥å…·ï¼š

   ```bash
   $ git credential-osxkeychain
    > xcode-select: note: no developer tools were found at '/Applications/Xcode.app',
    > requesting install. Choose an option in the dialog to download the command line developer tools.
   ```

   æˆ–è€…ï¼Œä½ å¯ä»¥ç”¨[Homebrew](http://brew.sh/)æ¥å®‰è£…Git å’Œ `osxkeychain helper`ï¼Œå¦‚ä¸‹ï¼š

   ```bash
   $ brew install git
   ```

   

3. å‘Šè¯‰Gitï¼Œä½¿ç”¨ `osxkeychain helper`æ¥åšå…¨å±€çš„`credential.helper`é…ç½®ï¼Œå¦‚ä¸‹ï¼š

   ```bash
   $ git config --global credential.helper osxkeychain
   # Set git to use the osxkeychain credential helper
   ```

   

## 3. æŠŠè®¤è¯ä¿¡æ¯ä¿®æ”¹æˆToken

è¿™éƒ¨åˆ†çš„å¸®åŠ©åŸæ–‡åœ¨è¿™é‡Œ[Updating credentials from the macOS Keychain](https://docs.github.com/en/get-started/getting-started-with-git/updating-credentials-from-the-macos-keychain#updating-your-credentials-via-keychain-access)ã€‚æœ‰ä¸¤ç§æ–¹æ³•ï¼š

1. ç”¨Keychain Accessæ¥åˆ é™¤æˆ–ä¿®æ”¹
2. ç”¨å‘½ä»¤è¡Œæ¥åˆ é™¤

æˆ‘æ˜¯ç”¨ç¬¬ä¸€ç§åŠæ³•æå®šçš„ï¼Œéå¸¸ç®€å•ã€‚

1. é¦–å…ˆï¼Œç”¨Spotlightæ‰¾åˆ°Keychain Accesså¹¶è¿è¡Œï¼ˆæƒ­æ„§ï¼Œæˆ‘æ˜¯ç¬¬ä¸€æ¬¡è¿™ä¹ˆç”¨Spotlightï¼‰

   <img src="https://docs.github.com/assets/images/help/setup/keychain-access.png" style="zoom:50%;" />

2. åœ¨Keychain Accessé‡Œï¼Œæ‰¾åˆ°github.com

3. åŒå‡»ï¼Œå‹¾é€‰ä¸‹é¢é‚£ä¸ªshow password

4. æŠŠPassword æ›¿æ¢ä¸ºä¹‹å‰å¤åˆ¶çš„é‚£ä¸ªPersonal Access Token

5. ä¿å­˜ï¼Œå¤§åŠŸå‘Šæˆï¼

   

è¿™äº›æŠ€æœ¯æ€§çš„å°ç©æ„ï¼Œä¸çŸ¥æ”¾åˆ°å“ªä¸ªç±»åˆ«ï¼Œæš‚æ—¶ä¹Ÿå½’å…¥åŒºå—é“¾ä¸€ç±»å§ã€‚æ¯•ç«Ÿæˆ‘æ˜¯å› ä¸ºåšåŒºå—é“¾çš„é¡¹ç›®é‡æ–°å¼€å§‹ç©git hubçš„ï¼Œè™½ç„¶ï¼Œç°åœ¨æ‹¿è¿™æŠŠç‰›åˆ€ï¼Œä¹Ÿåªä¸è¿‡ç”¨æ¥å­˜æ¯å¤©æ—¥æ›´çš„æ–‡ç« è€Œå·²ã€‚